<?xml version="1.0" encoding="utf-8"?>
<DataSchemaModel FileFormatVersion="1.2" SchemaVersion="1.1" DspName="Microsoft.Data.Schema.Sql.Sql100DatabaseSchemaProvider" CollationLcid="1033" CollationCaseSensitive="False">
	<Header>
		<CustomData Category="ModelCapability">
			<Metadata Name="ModelCapability" Value="Default" />
		</CustomData>
		<CustomData Category="ClrTypesDbSchema" Type="DbSchema">
			<Metadata Name="ClrTypesDbSchema" Value="True" />
		</CustomData>
		<CustomData Category="AnsiNulls">
			<Metadata Name="AnsiNulls" Value="True" />
		</CustomData>
		<CustomData Category="QuotedIdentifier">
			<Metadata Name="QuotedIdentifier" Value="True" />
		</CustomData>
		<CustomData Category="CompatibilityMode">
			<Metadata Name="CompatibilityMode" Value="100" />
		</CustomData>
		<CustomData Category="Permissions" Type="XmlPermissions">
			<Metadata Name="FileName" Value="C:\USERS\EUGEN\DOCUMENTS\VISUAL STUDIO 2010\PROJECTS\WAGOCONF\RTPCONFIG\PROPERTIES\DATABASE.SQLPERMISSIONS" />
		</CustomData>
	</Header>
	<Model>
		<Element Type="ISql100DatabaseOptions">
			<Property Name="Collation" Value="SQL_Latin1_General_CP1_CI_AS" />
			<Property Name="IsAnsiNullDefaultOn" Value="True" />
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Property Name="IsAnsiWarningsOn" Value="True" />
			<Property Name="IsArithAbortOn" Value="True" />
			<Property Name="IsConcatNullYieldsNullOn" Value="True" />
			<Property Name="IsAutoShrinkOn" Value="True" />
			<Property Name="IsTornPageProtectionOn" Value="False" />
			<Property Name="IsFullTextEnabled" Value="True" />
			<Property Name="PageVerifyMode" Value="3" />
			<Relationship Name="DefaultFilegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[AddNewModul]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	declare @modulcount int
	declare @channelstart int

	select @modulcount = COUNT(modulnumber)
	from RtpModuls

	set @channelstart = 1
	set @modulcount = @modulcount + 1
	BEGIN Transaction InsertModule

	insert into RtpModuls( modulnumber, modultype, rtpid)
	values(@modulcount, @modultype, @rtpid)

	while @channelstart <= @channelcount
	  begin
		insert into RtpChannel(channelnumber, modulnumber, rtpid, channeltype)
		values(@channelstart, @modulcount, @rtpid, @modultype)
		set @channelstart = @channelstart + 1
	  end

	  UPDATE RtpName
	  SET changehardware = 1

	  IF @@ERROR <> 0
	   BEGIN
		 ROLLBACK TRANSACTION InsertModule
		 RETURN -1
	   END
	  ELSE
	   BEGIN
		 COMMIT TRANSACTION InsertModule	
	   END


	  exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[AddNewModul] @rtpid, @channelcount, @modultype, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddNewModul].[@modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddNewModul].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[AddNewModul].[@channelcount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[AddNewModul].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[AddNewModul].[@channelcount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[AddNewModul].[@modultype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[AddNewModul].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1015" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[AddNewModul]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@channelcount int,&#xD;&#xA;&#x9;@modultype int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ChangeCountChannel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
 DECLARE @oldchannelcount int
 DECLARE @channeltype int
 
 select @oldchannelcount = COUNT(RtpChannel.channelnumber)
 from RtpChannel
 where RtpChannel.rtpid = @rtpid and RtpChannel.modulnumber = @modulnumber
 
 select @channeltype = RtpChannel.channeltype
 from RtpChannel
 where RtpChannel.rtpid = @rtpid and RtpChannel.modulnumber = @modulnumber
 
 
		 BEGIN TRANSACTION DELMOUNT
		 
		    DELETE RtpShibers
			WHERE RtpShibers.rtpid = @rtpid and RtpShibers.id = 
			(select RtpChannel.shiberid from RtpChannel where RtpChannel.shiberid = RtpShibers.id)
			
			
			UPDATE RtpChannel
			set RtpChannel.shiberid = NULL
			WHERE RtpChannel.modulnumber = @modulnumber
			   and RtpChannel.rtpid = @rtpid

			if @oldchannelcount > @channelcount
			  BEGIN
			   DELETE RtpChannel
			   where RtpChannel.modulnumber = @modulnumber
			   and RtpChannel.rtpid = @rtpid and RtpChannel.channelnumber > (@oldchannelcount - @channelcount)
			  END
			
			if @oldchannelcount < @channelcount
			 BEGIN
			 WHILE @oldchannelcount < @channelcount
			  BEGIN
			    INSERt INTO RtpChannel(shiberid, channeltype, rtpid, channelnumber, modulnumber)
			    values (null, @channeltype, @rtpid , @oldchannelcount + 1, @modulnumber)
			    set @oldchannelcount = @oldchannelcount + 1
			  END
			 END

			   UPDATE RtpName
	           SET changehardware = 1
					   
		    IF @@ERROR <> 0
			  BEGIN
			    ROLLBACK TRANSACTION DELMOUNT
				RETURN -1
		      END
			  ELSE
			   BEGIN
			    COMMIT TRANSACTION DELMOUNT 
				
			  END

		exec  dbo.UpdateShangeStore
	   IF @replication = 1
	   -- [RemoteDB]..[ChangeCountChannel] @rtpid, @modulnumber, @channelcount, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeCountChannel].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeCountChannel].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeCountChannel].[@channelcount]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeCountChannel].[@replication]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeCountChannel].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeCountChannel].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeCountChannel].[@channelcount]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeCountChannel].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="CreateOffset" Value="2" />
				<Property Name="Length" Value="1850" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="&#xD;&#xA;CREATE PROCEDURE [dbo].[ChangeCountChannel]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@channelcount int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[ChangeModulType]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	 BEGIN TRANSACTION CHANGEMODUL
	  DELETE RtpShibers
	  WHERE RtpShibers.rtpid = @rtpid and RtpShibers.id = 
			(select RtpChannel.shiberid from RtpChannel where RtpChannel.shiberid = RtpShibers.id)

	  update RtpChannel
	  set RtpChannel.shiberid = NULL, RtpChannel.channeltype = @modultype
	  where RtpChannel.modulnumber = @modulnumber and RtpChannel.rtpid = @rtpid
	  
	  update RtpModuls
	  set RtpModuls.modultype = @modultype
	  where RtpModuls.rtpid = @rtpid and RtpModuls.modulnumber = @modulnumber

	  UPDATE RtpName
	  SET changehardware = 1

	   IF @@ERROR <> 0
		 BEGIN
			ROLLBACK TRANSACTION CHANGEMODUL
		     RETURN -1 
		 END
	   ELSE
		 BEGIN
			 COMMIT TRANSACTION CHANGEMODUL
		END

		exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[ChangeModulType] @rtpid, @modulnumber, @modultype, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeModulType].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeModulType].[@modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChangeModulType].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeModulType].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeModulType].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeModulType].[@modultype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[ChangeModulType].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="996" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[ChangeModulType]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@modultype int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ChannelType]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ChannelType].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ChannelType].[descript]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="2" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ChannelType].[typeid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="3" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[CheckMountChannel]">
			<Property Name="BodyScript">
				<Value><![CDATA[

	 DECLARE @shibernumber int
	 DECLARE @signalgroup int




		  select @signalgroup = RtpSignalsGroup.signalgroup, @shibernumber = RtpShibers.shibernumber
		  from (RtpChannel LEFT JOIN RtpShibers ON RtpChannel.shiberid = RtpShibers.id)
		        LEFT JOIN RtpSignalsGroup ON RtpShibers.signalgroupid = RtpSignalsGroup.id
		  where RtpChannel.channelnumber = @channelnumber and RtpChannel.rtpid = @rtpid and RtpChannel.modulnumber = @modulnumber

		  select RtpSignals.signaltype, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpCommand.commandid, RtpSignals.signalcontrain, @shibernumber as shibernumber,
		  dbo.GetOffsetChannel(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignals.signalcontrain) as offsetChannel,
          dbo.GetOffsetModule(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignals.signalcontrain) as offsetModul
          from ((RtpSignals LEFT OUTER JOIN (select  RtpShibers.id, RtpShibers.shibernumber, 
          RtpShibers.signalgroupid,  RtpShibers.signaltype, RtpShibers.rtpid FROM RtpShibers 
          where RtpShibers.rtpid = @rtpid and RtpShibers.shibernumber = @shibernumber) as t ON RtpSignals.id = t.signaltype) LEFT OUTER JOIN RtpChannel ON t.id = RtpChannel.shiberid)
		    LEFT OUTER JOIN RtpCommand ON RtpSignals.signalgroup = RtpCommand.signalgroup
          where RtpSignals.signalgroup = @signalgroup
         order by RtpSignals.signaltype

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckMountChannel].[@channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckMountChannel].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CheckMountChannel].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[commandid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalcontrain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CheckMountChannel].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CheckMountChannel].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[CheckMountChannel].[@channelnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1557" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[CheckMountChannel]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@channelnumber int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[CommonSetup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CommonSetup].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CommonSetup].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[CommonSetup].[timeBetwenCycle]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="4" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[DeleteModule]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	BEGIN TRANSACTION DELMODUL
	   DELETE RtpShibers
			WHERE RtpShibers.rtpid = @rtpid and RtpShibers.id = 
			(select RtpChannel.shiberid from RtpChannel where RtpChannel.shiberid = RtpShibers.id AND RtpChannel.modulnumber = @modulnumber)

	   DELETE RtpChannel
	   Where RtpChannel.rtpid = @rtpid AND RtpChannel.modulnumber = @modulnumber

	   DELETE RtpModuls
	   Where RtpModuls.rtpid = @rtpid AND RtpModuls.modulnumber = @modulnumber

	   UPDATE RtpChannel
	   SET RtpChannel.modulnumber = (RtpChannel.modulnumber - 1)
	   WHERE RtpChannel.rtpid = 0 AND RtpChannel.modulnumber > @modulnumber

	   UPDATE RtpModuls
	   SET RtpModuls.modulnumber = (RtpModuls.modulnumber - 1)
	   WHERE RtpModuls.rtpid = @rtpid AND RtpModuls.modulnumber > @modulnumber



	UPDATE RtpName
	  SET changehardware = 1

	   IF @@ERROR <> 0
		 BEGIN
			ROLLBACK TRANSACTION DELMODUL
			 RETURN -1 
		 END
	   ELSE
		 BEGIN
			 COMMIT TRANSACTION CDELMODUL
		END

		exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[DeleteModule] @rtpid, @modulnumber, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteModule].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[DeleteModule].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DeleteModule].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DeleteModule].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[DeleteModule].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1204" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[DeleteModule]&#xD;&#xA;&#x9;@rtpid int = 0,&#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetAllModuleChannel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ChannelType.descript, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignalsGroup.signalgroupdescription, RtpSignals.signaldescription
	   FROM (((( RtpChannel LEFT OUTER JOIN RtpModuls ON RtpChannel.modulnumber = RtpModuls.modulnumber)
	   LEFT OUTER JOIN RtpShibers ON RtpChannel.shiberid = RtpShibers.id) LEFT OUTER JOIN
	   RtpSignalsGroup ON RtpShibers.signalgroupid = RtpSignalsGroup.id) LEFT OUTER JOIN
	   RtpSignals ON RtpShibers.signaltype = RtpSignals.id)LEFT OUTER JOIN ChannelType ON RtpChannel.channeltype = ChannelType.typeid
	  WHERE RtpChannel.rtpid = @rtpid
	  order by RtpChannel.modulnumber, RtpChannel.channelnumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[typeid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[descript]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaldescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetAllModuleChannel].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetAllModuleChannel].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="735" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetAllModuleChannel]&#xD;&#xA;   @rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetChannel]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	select RtpChannel.id, RtpChannel.channelnumber, RtpChannel.channeltype, RtpChannel.shiberid, RtpSignalsGroup.id as groupid, RtpSignals.id as signalid,
	RtpSignalsGroup.signalgroupdescription, RtpSignals.signaldescription
	from ((RtpChannel Left OUTER Join RtpShibers ON RtpChannel.shiberid  =  RtpShibers.id) Left OUTER Join
	        RtpSignalsGroup ON RtpShibers.signalgroupid = RtpSignalsGroup.id) LEFT JOIN RtpSignals ON
			RtpShibers.signaltype = RtpSignals.id
	where RtpChannel.rtpid = @rtpid and RtpChannel.modulnumber = @modulnumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaldescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannel].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannel].[@modulnumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannel].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannel].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="634" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetChannel]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@modulnumber int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetChannelCurrentShibers]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	DECLARE @shiberid int
	DECLARE @shibernumber int
	DECLARE @signalgroup int

	IF @groupid = -1 AND @signalid = - 1 AND @chanelid IS NOT NULL
	 BEGIN
		select @shiberid= RtpChannel.shiberid
		from RtpChannel
		where RtpChannel.id = @chanelid and RtpChannel.rtpid = @rtpid
		IF  @shiberid IS NOT NULL
		  BEGIN
		   BEGIN TRANSACTION DELSHIBERSMOUNT
			UPDATE RtpChannel
			set RtpChannel.shiberid = NULL
			WHERE RtpChannel.shiberid = @shiberid

			select @shibernumber = RtpShibers.shibernumber, @groupid = RtpShibers.signalgroupid
			from RtpShibers
			where RtpShibers.id = @shiberid

			SELECT @signalgroup = RtpSignalsGroup.signalgroup
			from RtpSignalsGroup
			where RtpSignalsGroup.id = @groupid

			DELETE RtpShibers
			WHERE RtpShibers.id = @shiberid

		   
			IF @@ERROR <> 0
			  BEGIN
				ROLLBACK TRANSACTION DELSHIBERSMOUNT
				RETURN -1
			  END
			  ELSE
			   BEGIN
				COMMIT TRANSACTION DELSHIBERSMOUNT 
				
			  END
		 END
	 END
	 IF @groupid IS NOT NULL AND @signalid IS NOT NULL AND @groupid <> -1 AND @signalid <> - 1 AND @chanelid IS NOT NULL
	   BEGIN
		   

		  SELECT @shibernumber = RtpSignalsGroup.signalattrnumber, @signalgroup = RtpSignalsGroup.signalgroup
		  from RtpSignalsGroup
		  where RtpSignalsGroup.id = @groupid

		  select @shiberid= RtpShibers.id
		  from RtpShibers
		  where RtpShibers.shibernumber = @shibernumber and RtpShibers.rtpid = @rtpid and RtpShibers.signaltype = @signalid

			IF  @shiberid IS NOT NULL
			  BEGIN

			  BEGIN TRANSACTION DELSHIBERSMOUNT
				UPDATE RtpChannel
				SET shiberid = NULL
				WHERE RtpChannel.shiberid = @shiberid AND RtpChannel.rtpid = @rtpid
				
				UPDATE RtpChannel
				SET shiberid = @shiberid
				WHERE RtpChannel.id = @chanelid AND RtpChannel.rtpid = @rtpid
			  
				UPDATE RtpShibers
				SET RtpShibers.signalgroupid =@groupid,  RtpShibers.signaltype = @signalid,
					RtpShibers.shibernumber = @shibernumber
				where RtpShibers.id = @shiberid
				
				IF @@ERROR <> 0
				  BEGIN
				   ROLLBACK TRANSACTION DELSHIBERSMOUNT
				   RETURN -1
				  END
				ELSE
				  BEGIN
					COMMIT TRANSACTION DELSHIBERSMOUNT 
				  END
			  END
			ELSE
			  BEGIN
			   BEGIN TRANSACTION DELSHIBERSMOUNT
				INSERT INTO RtpShibers (shibernumber, signalgroupid, signaltype, rtpid)
				VALUES( @shibernumber, @groupid, @signalid, @rtpid)

				UPDATE RtpChannel
				set RtpChannel.shiberid = @@IDENTITY
				WHERE RtpChannel.id = @chanelid and RtpChannel.rtpid = @rtpid 
				IF @@ERROR <> 0
			  BEGIN
				ROLLBACK TRANSACTION DELSHIBERSMOUNT
				RETURN -2
			  END
			  ELSE
			   BEGIN
				COMMIT TRANSACTION DELSHIBERSMOUNT 				
			  END
			END 
	   END

IF @replication <> 0
  BEGIN
   select RtpSignals.signaltype, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpCommand.commandid, RtpSignals.signalcontrain, @shibernumber as shibernumber,
		  dbo.GetOffsetChannel(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignals.signalcontrain) as offsetChannel,
		  dbo.GetOffsetModule(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber,  RtpSignals.signalcontrain) as offsetModul
   from ((RtpSignals LEFT OUTER JOIN (select  RtpShibers.id, RtpShibers.shibernumber, 
		RtpShibers.signalgroupid,  RtpShibers.signaltype, RtpShibers.rtpid FROM RtpShibers 
		where RtpShibers.rtpid = @rtpid and RtpShibers.shibernumber = @shibernumber) as t ON RtpSignals.id = t.signaltype) LEFT OUTER JOIN RtpChannel ON t.id = RtpChannel.shiberid)
		LEFT OUTER JOIN RtpCommand ON RtpSignals.signalgroup = RtpCommand.signalgroup
	where RtpSignals.signalgroup = @signalgroup
   order by RtpSignals.signaltype
 END

   exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[GetChannelCurrentShibers] @rtpid, @chanelid, @groupid,  @signalid, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannelCurrentShibers].[@groupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannelCurrentShibers].[@signalid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannelCurrentShibers].[@chanelid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannelCurrentShibers].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetChannelCurrentShibers].[@replication]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[commandid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalcontrain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannelCurrentShibers].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannelCurrentShibers].[@chanelid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannelCurrentShibers].[@groupid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannelCurrentShibers].[@signalid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetChannelCurrentShibers].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="4012" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetChannelCurrentShibers]&#xD;&#xA;&#x9;@rtpid int = 0,&#xD;&#xA;&#x9;@chanelid int,&#xD;&#xA;&#x9;@groupid int, &#xD;&#xA;&#x9;@signalid int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetCurrentShiberConfigByShiberNumber]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ShiberSetup.timeOpen as timeOpen, ShiberSetup.timeClose as timeClose, ShiberSetup.timeBetwenShiber as timeBetwenShiber,
		  ShiberSetup.reopenCountMax as reopenCountMax
	FROM ShiberSetup
	WHERE ShiberSetup.rtpid = @rtpid AND ShiberSetup.shibernumber = @shibernumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentShiberConfigByShiberNumber].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetCurrentShiberConfigByShiberNumber].[@shibernumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetCurrentShiberConfigByShiberNumber].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetCurrentShiberConfigByShiberNumber].[@shibernumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="392" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetCurrentShiberConfigByShiberNumber]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@shibernumber int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetErrorDownloadToPlc]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	Select  ISNULL(RtpName.changehardware, 0) as changehardware,
	ISNULL(RtpName.changegroupconfig, 0) as changegroupconfig,
	ISNULL(RtpName.changesingleconfig, 0) as changesingleconfig,
	ISNULL(RtpName.changeshiberconfig, 0) as changeshiberconfig
	FROM RtpName
	WHERE RtpName.rtpid = @rtpid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changegroupconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changesingleconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changeshiberconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetErrorDownloadToPlc].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetErrorDownloadToPlc].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="372" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetErrorDownloadToPlc]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetGroupForGroupLoad]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT GroupSequence.groupnumber
	From GroupSequence
	where GroupSequence.rtpid = @rtpid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GroupSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetGroupForGroupLoad].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetGroupForGroupLoad].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="169" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetGroupForGroupLoad]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetGroupShiberSetup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	Select GroupSequence.id, GroupSequence.sequencenumber, GroupSequence.groupnumber, ShiberGroup.timeBetwenGroupLoad,
gd1.signalgroupdescription as shiberdecription1, g1.timeOpen as timeOpen1, g1.timeClose as timeClose1, g1.timeBetwenShiber as timeBetwenShiber1,
g1.reopenCountMax as reopenCountMax1,
gd2.signalgroupdescription as shiberdecription2, g2.timeOpen as timeOpen2, g2.timeClose as timeClose2, g2.timeBetwenShiber  as timeBetwenShiber2,
g2.reopenCountMax as reopenCountMax2, CommonSetup.timeBetwenCycle, ShiberGroup.shibernumber1, ShiberGroup.shibernumber2

from (((((GroupSequence LEFT OUTER JOIN ShiberGroup ON GroupSequence.groupnumber = ShiberGroup.groupnumber)
LEFT OUTER JOIN ShiberSetup g1 ON ShiberGroup.shibernumber1 = g1.shibernumber)
LEFT OUTER JOIN ShiberSetup g2 ON ShiberGroup.shibernumber2 = g2.shibernumber)
LEFT OUTER JOIN CommonSetup ON GroupSequence.rtpid = CommonSetup.rtpid)
LEFT OUTER JOIN RtpSignalsGroup gd1 ON gd1.signalattrnumber = ShiberGroup.shibernumber1)
LEFT OUTER JOIN RtpSignalsGroup gd2 ON gd2.signalattrnumber = ShiberGroup.shibernumber2
WHERE GroupSequence.rtpid = @rtpid
order by GroupSequence.sequencenumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GroupSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[timeBetwenGroupLoad]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[timeBetwenCycle]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetGroupShiberSetup].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetGroupShiberSetup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1243" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetGroupShiberSetup]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetModule]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT RtpModuls.id, RtpModuls.modulnumber, ChannelType.descript
	from RtpModuls Left Join ChannelType ON RtpModuls.modultype = ChannelType.typeid
	where RtpModuls.rtpid = @rtpid
	order by RtpModuls.modulnumber]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[typeid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[descript]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpModuls].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetModule].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetModule].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="272" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetModule]&#xD;&#xA;&#x9;@rtpid int = 0 &#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetModulType]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ChannelType.id, ChannelType.descript
	from ChannelType
	order by ChannelType.typeid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ChannelType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[descript]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ChannelType].[typeid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="148" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetModulType]&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetMountForSignalsGroup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	 select RtpSignals.signaltype, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpCommand.commandid, RtpSignals.signalcontrain, @shibernumber as shibernumber,
		  dbo.GetOffsetChannel(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignals.signalcontrain) as offsetChannel,
		  dbo.GetOffsetModule(@rtpid, RtpChannel.modulnumber, RtpChannel.channelnumber, RtpSignals.signalcontrain) as offsetModul
		  from ((RtpSignals LEFT OUTER JOIN (select  RtpShibers.id, RtpShibers.shibernumber, 
		  RtpShibers.signalgroupid,  RtpShibers.signaltype, RtpShibers.rtpid FROM RtpShibers 
		  where RtpShibers.rtpid = @rtpid and RtpShibers.shibernumber = @shibernumber) as t ON RtpSignals.id = t.signaltype) LEFT OUTER JOIN RtpChannel ON t.id = RtpChannel.shiberid)
			LEFT OUTER JOIN RtpCommand ON RtpSignals.signalgroup = RtpCommand.signalgroup
		  where RtpSignals.signalgroup = @signalgroup
		 order by RtpSignals.signaltype
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetMountForSignalsGroup].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetMountForSignalsGroup].[@shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpShibers].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[shiberid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpCommand].[commandid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalcontrain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetMountForSignalsGroup].[@signalgroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetMountForSignalsGroup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetMountForSignalsGroup].[@shibernumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetMountForSignalsGroup].[@signalgroup]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1060" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetMountForSignalsGroup]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@shibernumber int,&#xD;&#xA;&#x9;@signalgroup int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetOffsetChannel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel].[@modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel].[@channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetChannel].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @byteuse int
	DECLARE @offsetch int
	SET @offsetch = 0

	IF @modultype = 3 OR @modultype = 4
	BEGIN 
	  SET @offsetch = (@channelnumber - 1) *2
	END

	IF @modultype = 0 OR @modultype = 1
	BEGIN
	  SELECT @offsetch = COUNT(a.channelnumber)
	  FROM RtpChannel a
	  Where a.rtpid = @rtpid AND a.channeltype = @modultype AND 
	  a.modulnumber <= @modulnumber AND a.id <> ISNULL((SELECT RtpChannel.id from
	  RtpChannel  where RtpChannel.channelnumber >= @channelnumber AND RtpChannel.modulnumber = @modulnumber
	    AND RtpChannel.id = a.id AND RtpChannel.rtpid = @rtpid), -1)

	  SET @byteuse = CAST(@offsetch/8 as int)
	  SET @offsetch = @offsetch - @byteuse*8
	END



 RETURN @offsetch
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="868" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[GetOffsetChannel]&#xD;&#xA;(&#xD;&#xA;&#x9;@rtpid int, &#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@channelnumber int,&#xD;&#xA;&#x9;@modultype int&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetChannel].[@rtpid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetChannel].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetChannel].[@channelnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetChannel].[@modultype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100ScalarFunction" Name="[dbo].[GetOffsetModule]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule].[@modultype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule].[@modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channeltype]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetOffsetModule].[@channelnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[modulnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpChannel].[rtpid]" />
				</Entry>
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
			</Relationship>
			<Relationship Name="FunctionBody">
				<Entry>
					<Element Type="ISqlScriptFunctionImplementation">
						<Property Name="BodyScript">
							<Value><![CDATA[
BEGIN
	DECLARE @byteuse int
	DECLARE @offsetmod int
	DECLARE @offsetdmod int

	SET @offsetmod = 0
	SET @offsetdmod = 0


	IF @modultype = 3 OR @modultype = 4
	BEGIN 
	  SELECT @offsetmod = COUNT(RtpChannel.channelnumber)*2 --    2 
	  FROM RtpChannel
	  WHERE RtpChannel.rtpid = @rtpid AND RtpChannel.channeltype = @modultype AND RtpChannel.modulnumber < @modulnumber
	END

	IF @modultype = 0 OR @modultype = 1
	BEGIN

	  SELECT @offsetmod = COUNT(RtpChannel.channelnumber)*2 --    2 
	  FROM RtpChannel
	  WHERE RtpChannel.rtpid = @rtpid AND RtpChannel.channeltype = (@modultype + 2)
	  
	  SELECT @offsetdmod = COUNT(a.channelnumber)
	  FROM RtpChannel a
	  Where a.rtpid = @rtpid AND a.channeltype = @modultype AND 
	  a.modulnumber <= @modulnumber AND a.id <> ISNULL((SELECT RtpChannel.id from
	  RtpChannel  where RtpChannel.channelnumber >= @channelnumber AND RtpChannel.modulnumber = @modulnumber
	    AND RtpChannel.id = a.id AND RtpChannel.rtpid = @rtpid), -1)

	  SET @offsetmod= @offsetmod + CAST(@offsetdmod/8 as int)
	END



 RETURN @offsetmod
END]]></Value>
						</Property>
						<Annotation Type="SysCommentsObjectAnnotation">
							<Property Name="Length" Value="1290" />
							<Property Name="StartLine" Value="1" />
							<Property Name="StartColumn" Value="1" />
							<Property Name="HeaderContents" Value="CREATE FUNCTION [dbo].[GetOffsetModule]&#xD;&#xA;(&#xD;&#xA;&#x9;@rtpid int, &#xD;&#xA;&#x9;@modulnumber int,&#xD;&#xA;&#x9;@channelnumber int,&#xD;&#xA;&#x9;@modultype int&#xD;&#xA;)&#xD;&#xA;RETURNS INT&#xD;&#xA;AS" />
						</Annotation>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetModule].[@rtpid]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetModule].[@modulnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetModule].[@channelnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetOffsetModule].[@modultype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Type">
				<Entry>
					<Element Type="ISql90TypeSpecifier">
						<Relationship Name="Type">
							<Entry>
								<References ExternalSource="BuiltIns" Name="[int]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetPlcInfo]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT RtpName.plcName, RtpName.plcType, RtpName.plcNumber
	FROM RtpName
	WHERE RtpName.rtpid = @rtpid
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetPlcInfo].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetPlcInfo].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="173" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetPlcInfo]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetRtpSignalGroups]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT RtpSignalsGroup.id, RtpSignalsGroup.signalattrnumber,
	       RtpSignalsGroup.signalgroup, RtpSignalsGroup.signalgroupdescription
	from RtpSignalsGroup
	order by RtpSignalsGroup.id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="252" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetRtpSignalGroups]&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetRtpSignals]">
			<Property Name="BodyScript">
				<Value><![CDATA[
    declare @groupid int
	select @groupid = RtpSignalsGroup.signalgroup
	from RtpSignalsGroup
	where RtpSignalsGroup.id = @signalgroupid

	SELECT RtpSignals.id, RtpSignals.signaldescription, RtpSignals.signalattribute
	from RtpSignals
	where RtpSignals.signalgroup = @groupid and RtpSignals.signalcontrain = @channeltype
	order by RtpSignals.id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[int]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRtpSignals].[@signalgroupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaldescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalattribute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalcontrain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetRtpSignals].[@channeltype]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetRtpSignals].[@signalgroupid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetRtpSignals].[@channeltype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="452" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetRtpSignals]&#xD;&#xA;&#x9;@signalgroupid int = 1, &#xD;&#xA;&#x9;@channeltype int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetShangeStore]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ShangeStore.datetimestore, ShangeStore.countchange
	FROM ShangeStore
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShangeStore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShangeStore].[datetimestore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShangeStore].[countchange]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="134" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShangeStore]&#xD;&#xA;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetShibersConfigByGroupNumber]">
			<Property Name="BodyScript">
				<Value><![CDATA[
		Select GroupSequence.id, GroupSequence.sequencenumber, GroupSequence.groupnumber, ShiberGroup.timeBetwenGroupLoad,
gd1.signalgroupdescription as shiberdecription1, g1.timeOpen as timeOpen1, g1.timeClose as timeClose1, g1.timeBetwenShiber as timeBetwenShiber1,
g1.reopenCountMax as reopenCountMax1,
gd2.signalgroupdescription as shiberdecription2, g2.timeOpen as timeOpen2, g2.timeClose as timeClose2, g2.timeBetwenShiber  as timeBetwenShiber2,
g2.reopenCountMax as reopenCountMax2, CommonSetup.timeBetwenCycle, ShiberGroup.shibernumber1, ShiberGroup.shibernumber2

from (((((GroupSequence LEFT OUTER JOIN ShiberGroup ON GroupSequence.groupnumber = ShiberGroup.groupnumber)
LEFT OUTER JOIN ShiberSetup g1 ON ShiberGroup.shibernumber1 = g1.shibernumber)
LEFT OUTER JOIN ShiberSetup g2 ON ShiberGroup.shibernumber2 = g2.shibernumber)
LEFT OUTER JOIN CommonSetup ON GroupSequence.rtpid = CommonSetup.rtpid)
LEFT OUTER JOIN RtpSignalsGroup gd1 ON gd1.signalattrnumber = ShiberGroup.shibernumber1)
LEFT OUTER JOIN RtpSignalsGroup gd2 ON gd2.signalattrnumber = ShiberGroup.shibernumber2
WHERE GroupSequence.rtpid = @rtpid AND ShiberGroup.groupnumber = @groupnumber
order by GroupSequence.sequencenumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GroupSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[timeBetwenGroupLoad]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[timeBetwenCycle]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShibersConfigByGroupNumber].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShibersConfigByGroupNumber].[@groupnumber]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetShibersConfigByGroupNumber].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetShibersConfigByGroupNumber].[@groupnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="1318" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShibersConfigByGroupNumber]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@groupnumber int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetShiberSetup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT ShiberSetup.id, ShiberSetup.shibernumber, RtpSignalsGroup.signalgroupdescription, ShiberSetup.timeOpen, ShiberSetup.timeClose,  ShiberSetup.timeBetwenShiber, ShiberSetup.timeAOpen, ShiberSetup.timeAClose, ShiberSetup.reopenCountMax
	FROM ShiberSetup LEFT OUTER JOIN RtpSignalsGroup ON ShiberSetup.shibernumber = RtpSignalsGroup.signalattrnumber
	WHERE ShiberSetup.rtpid = @rtpid
	order by  ShiberSetup.shibernumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeAOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeAClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetShiberSetup].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetShiberSetup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="497" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetShiberSetup]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetSignalsIdForGroupId]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	SELECT RtpSignals.id, RtpSignals.signaldescription, RtpSignals.signalattribute
	from RtpSignals
	where RtpSignals.signalgroup = @groupid and RtpSignals.signalcontrain = @channeltype
	order by RtpSignals.id
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signaldescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalattribute]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalgroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSignalsIdForGroupId].[@groupid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignals].[signalcontrain]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSignalsIdForGroupId].[@channeltype]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetSignalsIdForGroupId].[@groupid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetSignalsIdForGroupId].[@channeltype]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="311" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetSignalsIdForGroupId]&#xD;&#xA;&#x9;@groupid int = 1,&#xD;&#xA;&#x9;@channeltype int&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[GetSingleShiberSetup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	Select SingleSequence.id, SingleSequence.sequencenumber, SingleSequence.shibernumber, RtpSignalsGroup.signalgroupdescription, ShiberSetup.timeOpen, ShiberSetup.timeClose, ShiberSetup.timeBetwenShiber,
           ShiberSetup.reopenCountMax, CommonSetup.timeBetwenCycle
    from ((SingleSequence LEFT OUTER JOIN ShiberSetup ON SingleSequence.shibernumber = ShiberSetup.shibernumber)
          LEFT OUTER JOIN RtpSignalsGroup ON RtpSignalsGroup.signalattrnumber = SingleSequence.shibernumber)
		  LEFT OUTER JOIN  CommonSetup ON SingleSequence.rtpid = CommonSetup.rtpid
    WHERE SingleSequence.rtpid = @rtpid
    order by SingleSequence.sequencenumber
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SingleSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalattrnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[id]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[timeBetwenCycle]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GetSingleShiberSetup].[@rtpid]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[GetSingleShiberSetup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="734" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[GetSingleShiberSetup]&#xD;&#xA;&#x9;@rtpid int = 0&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[GroupSequence]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[GroupSequence].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[GroupSequence].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[GroupSequence].[groupnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[GroupSequence].[sequencenumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="5" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ChannelType]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ChannelType].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ChannelType]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="3" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_CommonSetup]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[CommonSetup].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[CommonSetup]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="4" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_GroupSequence]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[GroupSequence].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[GroupSequence]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="5" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpChannel]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpChannel].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpChannel]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="6" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpCommand]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpCommand].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpCommand]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="7" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpModuls]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpModuls].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpModuls]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="8" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpName]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpName].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="9" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpShibers]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpShibers].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpShibers]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="10" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpSignals]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpSignals].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpSignals]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="11" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_RtpSignalsGroup]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[RtpSignalsGroup].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[RtpSignalsGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="12" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ShangeStore]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShangeStore].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="13" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ShiberGroup]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShiberGroup].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShiberGroup]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="14" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_ShiberSetup]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[ShiberSetup].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="15" />
		</Element>
		<Element Type="ISql100PrimaryKeyConstraint" Name="[dbo].[PK_SingleSequence]">
			<Relationship Name="ColumnSpecifications">
				<Entry>
					<Element Type="ISqlIndexedColumnSpecification">
						<Relationship Name="Column">
							<Entry>
								<References Name="[dbo].[SingleSequence].[id]" />
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="DefiningTable">
				<Entry>
					<References Name="[dbo].[SingleSequence]" />
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Annotation Type="SqlInlineConstraintAnnotation" Disambiguator="16" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpChannel]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[shiberid]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[channeltype]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[channelnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpChannel].[modulnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="6" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpCommand]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpCommand].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpCommand].[signalgroup]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpCommand].[commandid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="7" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpModuls]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpModuls].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpModuls].[modulnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpModuls].[modultype]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpModuls].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="8" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpName]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[rtpdescr]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[changehardware]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[changegroupconfig]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[changesingleconfig]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[changeshiberconfig]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[plcName]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[plcType]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpName].[plcNumber]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="9" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpShibers]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpShibers].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpShibers].[shibernumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpShibers].[signalgroupid]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpShibers].[signaltype]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpShibers].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="10" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpSignals]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[signaldescription]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[signalcontrain]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[signalgroup]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[signaltype]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignals].[signalattribute]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="11" />
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[RtpSignalsGroup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignalsGroup].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignalsGroup].[signalgroupdescription]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="50" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignalsGroup].[signalattrnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[RtpSignalsGroup].[signalgroup]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<AttachedAnnotation Disambiguator="12" />
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveGroupConfig]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE ShiberGroup
	SET ShiberGroup.shibernumber1 = @shibernumber1, ShiberGroup.shibernumber2 = @shibernumber2,
	   ShiberGroup.timeBetwenGroupLoad = @timeBetwenLoadGroup
	WHERE ShiberGroup.rtpid = @rtpid AND ShiberGroup.groupnumber = @groupnumber

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveGroupConfig] @rtpid, @groupnumber, @shibernumber1, @shibernumber2, @timeBetwenLoadGroup, 0

RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupConfig].[@shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupConfig].[@shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[timeBetwenGroupLoad]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupConfig].[@timeBetwenLoadGroup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupConfig].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberGroup].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupConfig].[@groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@groupnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@shibernumber1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@shibernumber2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@timeBetwenLoadGroup]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupConfig].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="618" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveGroupConfig]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@groupnumber int,&#xD;&#xA;&#x9;@shibernumber1 int,&#xD;&#xA;&#x9;@shibernumber2 int,&#xD;&#xA;&#x9;@timeBetwenLoadGroup int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveGroupSequence]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE GroupSequence
	SET GroupSequence.groupnumber = @groupnumber
	WHERE GroupSequence.rtpid = @rtpid AND GroupSequence.sequencenumber = @sequencenumber

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveGroupSequence] @rtpid,  @sequencenumber, @groupnumber, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[GroupSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupSequence].[@groupnumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupSequence].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[GroupSequence].[sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveGroupSequence].[@sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupSequence].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupSequence].[@sequencenumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupSequence].[@groupnumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveGroupSequence].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="440" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveGroupSequence]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@sequencenumber int,&#xD;&#xA;&#x9;@groupnumber int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SavePlcInfo]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE RtpName
	SET plcName = @plcName, plcType =@plcType, plcNumber = @plcNumber
	WHERE RtpName.rtpid = @rtpid

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SavePlcInfo] @rtpid,  @plcName, @plcType, @plcNumber, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePlcInfo].[@plcName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePlcInfo].[@plcType]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[plcNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePlcInfo].[@plcNumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SavePlcInfo].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SavePlcInfo].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SavePlcInfo].[@plcName]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SavePlcInfo].[@plcType]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Property Name="Length" Value="20" />
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[nvarchar]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SavePlcInfo].[@plcNumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SavePlcInfo].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="412" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SavePlcInfo]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@plcName nvarchar(20),&#xD;&#xA;&#x9;@plcType nvarchar(20),&#xD;&#xA;&#x9;@plcNumber int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveShiberConfigForGroup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE ShiberSetup
	SET ShiberSetup.timeOpen = @timeOpen1, ShiberSetup.timeClose = @timeClose1
	WHERE ShiberSetup.rtpid = @rtpid AND  ShiberSetup.shibernumber = @shibernumber1

	UPDATE ShiberSetup
	SET ShiberSetup.timeOpen = @timeOpen2, ShiberSetup.timeClose = @timeClose2
	WHERE ShiberSetup.rtpid = @rtpid AND  ShiberSetup.shibernumber = @shibernumber2


	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveShiberConfigForGroup] @rtpid,  @shibernumber1, @timeOpen1, @timeClose1, @shibernumber2, @timeOpen2, @timeClose2, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@timeOpen1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@timeClose1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@shibernumber1]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@timeOpen2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@timeClose2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForGroup].[@shibernumber2]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@shibernumber1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@timeOpen1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@timeClose1]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@shibernumber2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@timeOpen2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@timeClose2]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForGroup].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="786" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveShiberConfigForGroup]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@shibernumber1 int,&#xD;&#xA;&#x9;@timeOpen1 int,&#xD;&#xA;&#x9;@timeClose1 int,&#xD;&#xA;&#x9;@shibernumber2 int,&#xD;&#xA;&#x9;@timeOpen2 int,&#xD;&#xA;&#x9;@timeClose2 int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveShiberConfigForSingle]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE ShiberSetup
	SET ShiberSetup.timeOpen = @timeOpen, ShiberSetup.timeClose = @timeClose, ShiberSetup.timeBetwenShiber = @timeBetwen
	WHERE ShiberSetup.rtpid = @rtpid AND  ShiberSetup.shibernumber = @shibernumber

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveShiberConfigForSingle] @rtpid,  @shibernumber, @timeOpen, @timeClose, @timeBetwen, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForSingle].[@timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForSingle].[@timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForSingle].[@timeBetwen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForSingle].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberConfigForSingle].[@shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@shibernumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@timeOpen]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@timeClose]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@timeBetwen]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberConfigForSingle].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="571" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveShiberConfigForSingle]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@shibernumber int,&#xD;&#xA;&#x9;@timeOpen int,&#xD;&#xA;&#x9;@timeClose int,&#xD;&#xA;&#x9;@timeBetwen int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveShiberSetup]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE ShiberSetup
	SET timeOpen = @timeOpen, timeClose = @timeClose, timeAOpen = @timeAOpen, timeAClose = @timeAClose,
	timeBetwenShiber = @timeBetwenShiber, reopenCountMax = @reopenCountMax
	WHERE ShiberSetup.rtpid = @rtpid AND ShiberSetup.shibernumber = @shibernumber

		exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveShiberSetup] @rtpid,  @shibernumber, @timeOpen, @timeClose, @timeAOpen, @timeAClose, @timeBetwenShiber, @reopenCountMax, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShiberSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@timeOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@timeClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeAOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@timeAOpen]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeAClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@timeAClose]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@timeBetwenShiber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@reopenCountMax]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShiberSetup].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveShiberSetup].[@shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@shibernumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@timeOpen]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@timeClose]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@timeAOpen]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@timeAClose]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@timeBetwenShiber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@reopenCountMax]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveShiberSetup].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="721" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveShiberSetup]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@shibernumber int,&#xD;&#xA;&#x9;@timeOpen int,&#xD;&#xA;&#x9;@timeClose int,&#xD;&#xA;&#x9;@timeAOpen int,&#xD;&#xA;&#x9;@timeAClose int,&#xD;&#xA;&#x9;@timeBetwenShiber int,&#xD;&#xA;&#x9;@reopenCountMax int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveSingleSequence]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE SingleSequence
	SET SingleSequence.shibernumber = @shibernumber
	WHERE SingleSequence.rtpid  = @rtpid AND SingleSequence.sequencenumber = @sequencenumber

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveSingleSequence] @rtpid,  @sequencenumber, @shibernumber, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SingleSequence]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveSingleSequence].[@shibernumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveSingleSequence].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SingleSequence].[sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveSingleSequence].[@sequencenumber]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveSingleSequence].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveSingleSequence].[@sequencenumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveSingleSequence].[@shibernumber]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveSingleSequence].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="451" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveSingleSequence]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@sequencenumber int,&#xD;&#xA;&#x9;@shibernumber int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SaveTimeBetwenCycle]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	UPDATE CommonSetup
	SET timeBetwenCycle = @timeBetwenCycle
	WHERE CommonSetup.rtpid = @rtpid

	exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SaveTimeBetwenCycle] @rtpid,  @timeBetwenCycle, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[CommonSetup]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[timeBetwenCycle]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveTimeBetwenCycle].[@timeBetwenCycle]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[CommonSetup].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SaveTimeBetwenCycle].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveTimeBetwenCycle].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveTimeBetwenCycle].[@timeBetwenCycle]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SaveTimeBetwenCycle].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="351" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SaveTimeBetwenCycle]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@timeBetwenCycle int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[SetErrorDownloadToPlc]">
			<Property Name="BodyScript">
				<Value><![CDATA[
 IF @type = 1
   BEGIN
	UPDATE RtpName
	SET RtpName.changehardware = @value
	WHERE RtpName.rtpid = @rtpid
   END

 IF @type = 2
  BEGIN
	UPDATE RtpName
	SET RtpName.changegroupconfig = @value
	WHERE RtpName.rtpid = @rtpid
  END

 IF @type = 3
 BEGIN
   UPDATE RtpName
	SET RtpName.changesingleconfig = @value
	WHERE RtpName.rtpid = @rtpid
 END

  IF @type = 4
  BEGIN
   UPDATE RtpName
	SET RtpName.changeshiberconfig = @value
	WHERE RtpName.rtpid = @rtpid
 END

 exec  dbo.UpdateShangeStore
	   --IF @replication = 1
	   -- [RemoteDB]..[SetErrorDownloadToPlc] @rtpid, @type, @value, 0
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[SetErrorDownloadToPlc].[@type]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changehardware]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetErrorDownloadToPlc].[@value]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[SetErrorDownloadToPlc].[@rtpid]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changegroupconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changesingleconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[RtpName].[changeshiberconfig]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[UpdateShangeStore]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Relationship Name="Parameters">
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetErrorDownloadToPlc].[@rtpid]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[0]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetErrorDownloadToPlc].[@type]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetErrorDownloadToPlc].[@value]">
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SubroutineParameter" Name="[dbo].[SetErrorDownloadToPlc].[@replication]">
						<Property Name="DefaultExpressionScript">
							<Value><![CDATA[1]]></Value>
						</Property>
						<Relationship Name="Type">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="746" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[SetErrorDownloadToPlc]&#xD;&#xA;&#x9;@rtpid int = 0, &#xD;&#xA;&#x9;@type int,&#xD;&#xA;&#x9;@value int,&#xD;&#xA;&#x9;@replication int = 1&#xD;&#xA;AS" />
			</Annotation>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ShangeStore]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShangeStore].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShangeStore].[datetimestore]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[datetime]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShangeStore].[countchange]">
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="13" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ShiberGroup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[groupnumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[shibernumber1]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[shibernumber2]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberGroup].[timeBetwenGroupLoad]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="14" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[ShiberSetup]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[shibernumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[reopenCountMax]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[timeOpen]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[timeClose]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[timeAOpen]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[timeAClose]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[ShiberSetup].[timeBetwenShiber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="15" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Table" Name="[dbo].[SingleSequence]">
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="Columns">
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SingleSequence].[id]">
						<Property Name="IsNullable" Value="False" />
						<Property Name="IsIdentity" Value="True" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SingleSequence].[rtpid]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SingleSequence].[sequencenumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
					</Element>
				</Entry>
				<Entry>
					<Element Type="ISql100SimpleColumn" Name="[dbo].[SingleSequence].[shibernumber]">
						<Property Name="IsNullable" Value="False" />
						<Relationship Name="TypeSpecifier">
							<Entry>
								<Element Type="ISql90TypeSpecifier">
									<Relationship Name="Type">
										<Entry>
											<References ExternalSource="BuiltIns" Name="[int]" />
										</Entry>
									</Relationship>
								</Element>
							</Entry>
						</Relationship>
						<AttachedAnnotation Disambiguator="16" />
					</Element>
				</Entry>
			</Relationship>
			<Relationship Name="Filegroup">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[PRIMARY]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
		</Element>
		<Element Type="ISql100Procedure" Name="[dbo].[UpdateShangeStore]">
			<Property Name="BodyScript">
				<Value><![CDATA[
	IF NOT EXISTS(select * from ShangeStore )
	  BEGIN
	  insert into ShangeStore([datetimestore], [countchange])
	  values(GETDATE(), 1)
	  END
	ELSE
	  BEGIN
	    UPDATE ShangeStore
		SET [countchange] = [countchange] + 1, [datetimestore] = GETDATE()
	  END
RETURN 0]]></Value>
			</Property>
			<Property Name="IsAnsiNullsOn" Value="True" />
			<Relationship Name="BodyDependencies">
				<Entry>
					<References Name="[dbo].[ShangeStore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShangeStore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShangeStore].[datetimestore]" />
				</Entry>
				<Entry>
					<References Name="[dbo].[ShangeStore].[countchange]" />
				</Entry>
			</Relationship>
			<Relationship Name="Owner">
				<Entry>
					<References ExternalSource="BuiltIns" Name="[dbo]" />
				</Entry>
			</Relationship>
			<Annotation Type="SysCommentsObjectAnnotation">
				<Property Name="Length" Value="326" />
				<Property Name="StartLine" Value="1" />
				<Property Name="StartColumn" Value="1" />
				<Property Name="HeaderContents" Value="CREATE PROCEDURE [dbo].[UpdateShangeStore]&#xD;&#xA;&#x9;&#xD;&#xA;AS" />
			</Annotation>
		</Element>
	</Model>
</DataSchemaModel>